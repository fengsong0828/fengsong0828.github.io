<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>技术专利分布 | LowAltitude Insight</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <header><div class="standard-container"><div class="nav-inner"><a href="index.html" class="logo">LowAltitude<span>Insight</span></a><a href="index.html">← 返回首页</a></div></div></header>
    <section class="page-hero"><div class="standard-container"><h1>本周新增专利分析</h1><p>点击扇区查看技术详情（待调整，未来增加一个结合空天地信通讯的低空飞行器示意图，各个部件产生的专利信息都直接指向示意图）</p></div></section>

    <div class="standard-container">
        <div id="chart-container" style="width: 100%; height: 600px;"></div>
    </div>

    <!-- 弹窗 -->
    <div class="modal-overlay" id="info-modal"><div class="modal-box"><div class="modal-close" onclick="closeModal()">×</div><div class="modal-title" id="m-title"></div><div class="modal-content" id="m-content"></div><div class="modal-meta" id="m-meta"></div></div></div>

    <script>
        var myChart = echarts.init(document.getElementById('chart-container'));

        var option = {
            tooltip: { trigger: 'item' },
            legend: { top: '5%', left: 'center' },
            series: [{
                name: '技术领域',
                type: 'pie',
                radius: ['40%', '70%'],
                avoidLabelOverlap: false,
                itemStyle: { borderRadius: 10, borderColor: '#fff', borderWidth: 2 },
                label: { show: false, position: 'center' },
                emphasis: { label: { show: true, fontSize: 20, fontWeight: 'bold' } },
                data: [
                    { value: 45, name: '电池技术', detail: '主要集中在固态电池、高倍率放电技术，旨在提升续航。' },
                    { value: 38, name: '飞控系统', detail: '多旋翼冗余控制、自动驾驶避障算法是热点。' },
                    { value: 32, name: '复合材料', detail: '碳纤维机身结构优化，降低重量提升强度。' },
                    { value: 15, name: '通信导航', detail: '5G-A 通感一体化、低轨卫星链路技术。' },
                    { value: 12, name: '降噪设计', detail: '涵道风扇叶型优化，减少对城市噪音污染。' }
                ]
            }]
        };

        myChart.setOption(option);

        myChart.on('click', function (params) {
            showModal(params.name, params.data.detail, '本周申请数量: ' + params.value);
        });

        function showModal(t, c, m) { document.getElementById('m-title').innerText=t; document.getElementById('m-content').innerText=c; document.getElementById('m-meta').innerText=m; document.getElementById('info-modal').style.display='flex'; }
        function closeModal() { document.getElementById('info-modal').style.display='none'; }
        window.addEventListener('resize', function() { myChart.resize(); });
    </script>
</body>
</html>