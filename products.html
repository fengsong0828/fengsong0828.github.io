<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å…¨çƒé£è¡Œå™¨äº§å“åº“ | LowAltitude Insight</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* --- äº§å“åº“ä¸“ç”¨æ ·å¼ --- */
        
        /* é¡¶éƒ¨ç­›é€‰æ  */
        .filter-section {
            background: #fff;
            border-bottom: 1px solid #e2e8f0;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 90; /* ä¿è¯åœ¨å¯¼èˆªæ ä¹‹ä¸‹ï¼Œä½†è¦†ç›–å†…å®¹ */
        }
        
        .filter-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }

        .filter-group {
            display: flex;
            gap: 10px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #334155;
            background-color: #f8fafc;
            outline: none;
        }

        .search-input {
            padding: 8px 12px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            width: 240px;
            font-size: 0.9rem;
        }

        /* äº§å“ç½‘æ ¼å¸ƒå±€ */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* å“åº”å¼ç½‘æ ¼ */
            gap: 24px;
            padding: 40px 0;
        }

        /* äº§å“å¡ç‰‡ */
        .product-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
        }

        /* äº§å“å›¾ç‰‡åŒº */
        .product-img-box {
            height: 180px;
            background-color: #f1f5f9;
            position: relative;
            overflow: hidden;
        }
        
        .product-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* çŠ¶æ€æ ‡ç­¾ */
        .status-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            color: white;
        }
        .status-certified { background-color: #10b981; } /* ç»¿è‰²ï¼šå·²å–è¯ */
        .status-testing { background-color: #3b82f6; }   /* è“è‰²ï¼šæµ‹è¯•ä¸­ */
        .status-concept { background-color: #f59e0b; }   /* æ©™è‰²ï¼šæ¦‚å¿µ */

        /* å¡ç‰‡å†…å®¹ */
        .product-content {
            padding: 20px;
        }

        .product-maker {
            font-size: 0.85rem;
            color: #64748b;
            margin-bottom: 4px;
            display: flex;
            justify-content: space-between;
        }

        .product-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 12px;
        }

        /* å…³é”®å‚æ•°ç½‘æ ¼ */
        .specs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            background: #f8fafc;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .spec-item {
            text-align: center;
        }

        .spec-val {
            font-weight: 700;
            color: #334155;
            font-size: 0.9rem;
        }

        .spec-label {
            font-size: 0.7rem;
            color: #94a3b8;
            margin-top: 2px;
        }

        .country-flag {
            font-size: 1rem;
        }

    </style>
</head>
<body>

    <!-- 1. å¯¼èˆªæ  Header (ä¸é¦–é¡µä¿æŒä¸€è‡´) -->
    <header>
        <div class="standard-container">
            <div class="nav-inner">
                <a href="index.html" class="logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                    LowAltitude<span>Insight</span>
                </a>
                <button class="mobile-menu-btn" onclick="toggleMenu()">â˜°</button>
                <nav class="nav-links" id="navMenu">
                    <a href="index.html">é¦–é¡µ</a>
                    <a href="news.html">èµ„è®¯å¿«æŠ¥</a>
                    <a href="policies.html">æ”¿ç­–æ³•è§„</a>
                    <a href="tech.html">æŠ€æœ¯å‰æ²¿</a>
                    <a href="products.html" class="active">å…¨çƒäº§å“åº“</a> <!-- å½“å‰é¡µé«˜äº® -->
                </nav>
                <div class="header-actions">
                    <button class="btn btn-outline">æœç´¢</button>
                    <button class="btn btn-primary" id="auth-btn">è®¢é˜…/ç™»å½•</button>
                </div>
            </div>
        </div>
    </header>

    <!-- 2. é¡µé¢æ ‡é¢˜ -->
    <div style="background: #1e293b; padding: 40px 0; color: white;">
        <div class="standard-container">
            <h1 style="font-size: 2rem; margin-bottom: 10px;">å…¨çƒä½ç©ºé£è¡Œå™¨äº§å“åº“</h1>
            <p style="color: #94a3b8;">æ”¶å½•å…¨çƒä¸»æµ eVTOLã€è´§è¿æ— äººæœºåŠé£è¡Œæ±½è½¦æŠ€æœ¯å‚æ•°ã€‚</p>
        </div>
    </div>

    <!-- 3. ç­›é€‰ä¸æœç´¢æ  -->
    <div class="filter-section">
        <div class="standard-container filter-container">
            <div class="filter-group">
                <select class="filter-select" id="typeFilter" onchange="applyFilters()">
                    <option value="all">æ‰€æœ‰ç±»å‹</option>
                    <option value="eVTOL">è½½äºº eVTOL</option>
                    <option value="Cargo">è´§è¿æ— äººæœº</option>
                    <option value="FlyingCar">é™†ç©ºä¸¤æ –</option>
                </select>
                <select class="filter-select" id="regionFilter" onchange="applyFilters()">
                    <option value="all">å…¨çƒåŒºåŸŸ</option>
                    <option value="China">ä¸­å›½</option>
                    <option value="USA">ç¾å›½</option>
                    <option value="Europe">æ¬§æ´²</option>
                </select>
                <select class="filter-select" id="statusFilter" onchange="applyFilters()">
                    <option value="all">æ‰€æœ‰çŠ¶æ€</option>
                    <option value="Certified">å·²å–è¯</option>
                    <option value="Testing">è¯•é£ä¸­</option>
                    <option value="Concept">æ¦‚å¿µè®¾è®¡</option>
                </select>
            </div>
            <div class="filter-group">
                <input type="text" class="search-input" id="searchInput" placeholder="æœç´¢å‹å·æˆ–å…¬å¸..." onkeyup="applyFilters()">
            </div>
        </div>
    </div>

    <!-- 4. äº§å“å±•ç¤ºç½‘æ ¼ -->
    <div class="standard-container">
        <div class="products-grid" id="product-container">
            <!-- JS å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆå¡ç‰‡ -->
            <p style="text-align:center; width:100%; grid-column: 1/-1; color:#94a3b8;">æ­£åœ¨åŠ è½½å…¨çƒæ•°æ®...</p>
        </div>
    </div>

    <!-- 5. Footer (ä¿æŒä¸€è‡´) -->
    <footer>
        <div class="standard-container">
            <div class="copyright" style="text-align:center; color:#64748b; font-size:0.85rem; padding: 20px 0;">
                &copy; 2025 LowAltitude Insight.
            </div>
        </div>
    </footer>

    <!-- JS é€»è¾‘ -->
    <script>
        // æ¨¡æ‹Ÿæ•°æ® (å¦‚æœæ‚¨æœ‰ Supabase è¡¨ï¼Œå¯ä»¥æ›¿æ¢ä¸º fetch è¯·æ±‚)
        const productsData = [
            {
                id: 1,
                name: "EH216-S",
                maker: "äº¿èˆªæ™ºèƒ½ EHang",
                region: "China",
                type: "eVTOL",
                status: "Certified", // å·²å–è¯
                specs: { range: "30 km", speed: "130 km/h", payload: "220 kg" },
                img: "https://images.unsplash.com/photo-1559067096-49ebca56b2d9?auto=format&fit=crop&w=800&q=80" // å ä½å›¾
            },
            {
                id: 2,
                name: "Joby S4",
                maker: "Joby Aviation",
                region: "USA",
                type: "eVTOL",
                status: "Testing", // æµ‹è¯•ä¸­
                specs: { range: "240 km", speed: "320 km/h", payload: "4 Pax" },
                img: "https://images.unsplash.com/photo-1558588942-28d20079bcbd?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 3,
                name: "Lilium Jet",
                maker: "Lilium",
                region: "Europe",
                type: "eVTOL",
                status: "Testing",
                specs: { range: "250 km", speed: "300 km/h", payload: "6 Pax" },
                img: "https://images.unsplash.com/photo-1476611338391-6f395a0ebc7b?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 4,
                name: "æ—…èˆªè€… X2",
                maker: "å°é¹æ±‡å¤© XPeng",
                region: "China",
                type: "FlyingCar",
                status: "Testing",
                specs: { range: "35 min", speed: "130 km/h", payload: "2 Pax" },
                img: "https://images.unsplash.com/photo-1571623898183-a15f52a4077d?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 5,
                name: "Midnight",
                maker: "Archer Aviation",
                region: "USA",
                type: "eVTOL",
                status: "Testing",
                specs: { range: "160 km", speed: "240 km/h", payload: "4 Pax" },
                img: "https://images.unsplash.com/photo-1523983388277-336a66bf9bcd?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 6,
                name: "å¤§ç–†è¿è½½ FC30",
                maker: "DJI å¤§ç–†",
                region: "China",
                type: "Cargo",
                status: "Certified",
                specs: { range: "16 km", speed: "20 m/s", payload: "30 kg" },
                img: "https://images.unsplash.com/photo-1473968512647-3e447244af8f?auto=format&fit=crop&w=800&q=80"
            }
        ];

        // è¾…åŠ©å‡½æ•°ï¼šè·å–çŠ¶æ€æ ·å¼
        function getStatusConfig(status) {
            switch(status) {
                case 'Certified': return { text: 'å·²é€‚èˆªå–è¯', class: 'status-certified' };
                case 'Testing': return { text: 'è¯•é£/è®¤è¯ä¸­', class: 'status-testing' };
                case 'Concept': return { text: 'æ¦‚å¿µé˜¶æ®µ', class: 'status-concept' };
                default: return { text: status, class: 'status-testing' };
            }
        }

        // è¾…åŠ©å‡½æ•°ï¼šè·å–å›½æ——Emoji
        function getFlag(region) {
            if (region === 'China') return 'ğŸ‡¨ğŸ‡³';
            if (region === 'USA') return 'ğŸ‡ºğŸ‡¸';
            if (region === 'Europe') return 'ğŸ‡ªğŸ‡º';
            return 'ğŸŒ';
        }

        // æ¸²æŸ“å‡½æ•°
        function renderProducts(data) {
            const container = document.getElementById('product-container');
            container.innerHTML = '';

            if (data.length === 0) {
                container.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:40px; color:#94a3b8;">æœªæ‰¾åˆ°åŒ¹é…çš„äº§å“</div>';
                return;
            }

            data.forEach(item => {
                const statusConfig = getStatusConfig(item.status);
                const flag = getFlag(item.region);
                
                const cardHTML = `
                    <div class="product-card" onclick="alert('å³å°†è·³è½¬åˆ° ${item.name} è¯¦æƒ…é¡µ')">
                        <div class="product-img-box">
                            <img src="${item.img}" alt="${item.name}" class="product-img">
                            <span class="status-badge ${statusConfig.class}">${statusConfig.text}</span>
                        </div>
                        <div class="product-content">
                            <div class="product-maker">
                                <span>${item.maker}</span>
                                <span class="country-flag" title="${item.region}">${flag}</span>
                            </div>
                            <div class="product-name">${item.name}</div>
                            
                            <div class="specs-grid">
                                <div class="spec-item">
                                    <div class="spec-val">${item.specs.range}</div>
                                    <div class="spec-label">èˆªç¨‹</div>
                                </div>
                                <div class="spec-item">
                                    <div class="spec-val">${item.specs.speed}</div>
                                    <div class="spec-label">æœ€å¤§é€Ÿåº¦</div>
                                </div>
                                <div class="spec-item">
                                    <div class="spec-val">${item.specs.payload}</div>
                                    <div class="spec-label">è½½é‡/åº§</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += cardHTML;
            });
        }

        // ç­›é€‰é€»è¾‘
        function applyFilters() {
            const typeVal = document.getElementById('typeFilter').value;
            const regionVal = document.getElementById('regionFilter').value;
            const statusVal = document.getElementById('statusFilter').value;
            const searchVal = document.getElementById('searchInput').value.toLowerCase();

            const filtered = productsData.filter(item => {
                // ç±»å‹ç­›é€‰
                if (typeVal !== 'all' && item.type !== typeVal) return false;
                // åŒºåŸŸç­›é€‰
                if (regionVal !== 'all' && item.region !== regionVal) return false;
                // çŠ¶æ€ç­›é€‰
                if (statusVal !== 'all' && item.status !== statusVal) return false;
                // æœç´¢ç­›é€‰ (åŒ¹é…åç§°æˆ–å‚å•†)
                if (searchVal) {
                    const matchName = item.name.toLowerCase().includes(searchVal);
                    const matchMaker = item.maker.toLowerCase().includes(searchVal);
                    if (!matchName && !matchMaker) return false;
                }
                return true;
            });

            renderProducts(filtered);
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(productsData);
        });

        // æ‰‹æœºèœå• (å¤åˆ¶è‡ª index)
        function toggleMenu() { 
            document.getElementById('navMenu').classList.toggle('active'); 
        }
    </script>
</body>
</html>